<ng-container *ngIf="component && service.currentEdge | async as edge">
    <ng-container *ngIf="(edge.currentData | async)['channel'] as currentData">
        <ion-card>
            <ion-item lines="full" color="light">
                <ion-label style="display: flex; justify-content: center;">SonnenBattery</ion-label>
            </ion-item>
            <ion-card-content
                style="display: flex; justify-content: center; flex-direction: column; align-items: center;">
                <ion-list>
                    <ion-item>
                        <ion-label>Consumption: {{ currentData[component.id + '/ConsumptionW'] | unitvalue:'W'}}
                        </ion-label>
                    </ion-item>
                    <ion-item>
                        <ion-label>Production: {{ currentData[component.id + '/ProductionW'] | unitvalue:'W'}}
                        </ion-label>
                    </ion-item>
                    <ion-item>
                        <ion-label>
                            Greed Feed In: {{ currentData[component.id + '/GridfeedinW'] | unitvalue:'W'}}
                        </ion-label>
                    </ion-item>
                    <ion-item>
                        <ion-label>Pac Total: {{ currentData[component.id + '/PacTotalW'] | unitvalue:'W'}}
                        </ion-label>
                    </ion-item>
                    <ion-item>
                        <ion-label>RSOC: {{ currentData[component.id + '/Rsoc'] | unitvalue:'%'}} | USOC: {{ currentData[component.id + '/Usoc'] | unitvalue:'%'}}
                        </ion-label>
                    </ion-item>
                    <ion-item>
                        <ion-label>Fac: {{ currentData[component.id + '/Fac'] | unitvalue:'Hz'}} | Uac: {{ currentData[component.id + '/Uac'] | unitvalue:'V'}} | Ubat: {{ currentData[component.id + '/Ubat'] | unitvalue:'V'}}
                        </ion-label>
                    </ion-item>
                    <ion-item>
                        <ion-label>Timestamp: {{ currentData[component.id + '/Timestamp']}}
                        </ion-label>
                    </ion-item>
                    <ion-item>
                        <ion-label>IsSystemInstalled: {{ currentData[component.id + '/Issysteminstalled']}}
                        </ion-label>
                    </ion-item>
                    <ion-item>
                        <ion-label>Mode Status: {{ currentData[component.id + '/ModeStatus']}}
                        </ion-label>
                    </ion-item>
                    <ion-item>
                        <ion-label>Charge Status: {{ currentData[component.id + '/ChargeStatus']}}
                        </ion-label>
                    </ion-item>

                    <ion-item>
                        <ion-label>Switch Mode Manual/Automatic</ion-label>
                        <ion-toggle (ionChange)="hitModeButton($event)"></ion-toggle>
                    </ion-item>
                    
                    <ion-item>
                        <ion-label>Charge/Discharge</ion-label>
                        <ion-toggle (ionChange)="hitChargeStatusButton($event)"></ion-toggle>
                    </ion-item>

                    <ion-item>
                        <ion-label>Charge/Discharge</ion-label>
                        <ion-input type="text" id="chargeValue" name="chargeValue" [(ngModel)]="chargeValue"></ion-input>
                        <ion-button type="button" (click)="charge()">Charge</ion-button>
                        <ion-button type="button" (click)="discharge()">Discharge</ion-button>
                    </ion-item>

                </ion-list>

            </ion-card-content>
        </ion-card>
    </ng-container>
  </ng-container>